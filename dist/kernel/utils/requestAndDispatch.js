import e from'./../../ext/@babel/runtime/helpers/esm/defineProperty.js';import{dispatchMiddleware as t}from"./dispatchMiddleWare.js";import{requestApi as o}from"./request.js";import{checkIfServiceMustBeFaked as r}from"./checkIfServiceMustBeFaked.js";function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach((function(o){e(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(e,n,a,s,i){if(a){var p=r(e,a.type,i)?null==i?void 0:i.FAKE_DEFAULT_SERVICE(a):e(a.payload);o(p).then((function(e){var o,r,p="".concat(a.type,"_FULFILLED"),c=l(l({},a),{},{type:p,payload:e.data,requestPayload:a.payload,requestStatus:null==e?void 0:e.status,requestResolved:!0}),d=(null==i?void 0:i.USE_FAKE_RESPONSES_ON_DEFINED_FAKE_ACTIONS)&&(null==i||null===(o=i.FAKE_GET_RESPONSES_BY_ACTION_TYPE_DICTIONARY)||void 0===o||null===(r=o[a.type])||void 0===r?void 0:r.onFulfilled),E=d&&l(l({},d),{},{requestPayload:a.payload}),O=d?E:c,y=t(n,s,i);u(p,s)&&y(O)})).catch((function(e){var o,r,p,c="".concat(a.type,"_REJECTED"),d=l(l({},a),{},{type:c,payload:e.response,requestPayload:a.payload,requestStatus:null==e||null===(o=e.response)||void 0===o?void 0:o.status,requestResolved:!1}),E=(null==i?void 0:i.USE_FAKE_RESPONSES_ON_DEFINED_FAKE_ACTIONS)&&(null==i||null===(r=i.FAKE_GET_RESPONSES_BY_ACTION_TYPE_DICTIONARY)||void 0===r||null===(p=r[a.type])||void 0===p?void 0:p.onRejected),O=E&&l(l({},E),{},{requestPayload:a.payload}),y=E?O:d,_=t(n,s,i);u(c,s)&&_(y)}))}}function u(e,t){return!(!t[e]||!t[e].changeState)||(devConsoleLog(e,"DOES NOT EXIST"),!1)}export{u as actionTypeExistsOnActionsObject,a as requestAndDispatch};
