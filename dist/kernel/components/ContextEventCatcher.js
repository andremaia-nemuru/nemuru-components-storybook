import e from'./../../ext/@babel/runtime/helpers/esm/toConsumableArray.js';import t,{useEffect as n}from"react";import{EVENT_TYPES as r}from"../utils/eventsConfig.js";function a(a){var o=a.context,c=a.eventsConfig,i=a.dispatchEventFunction,s=o.criticalError,u=o.lastAction,l=o.lastActionsReference;n((function(){var e=s;e&&i({name:"".concat(e.type),type:r.error,payload:e})}),[s]),n((function(){var t=l&&e(l);t&&t.forEach((function(e){return f(e)})),l&&(l.length=0)}),[u]);var f=function(e){p(e),d(e),m(e)},p=function(e){i({name:e.type,type:r.action,payload:e})},m=function(e){if(e.hasRequest){var t="";switch(e.requestResolved){case!0:t=r.requestFulfilled;break;case!1:t=r.requestRejected;break;default:t=r.requestDispatch}i({name:e.type,type:t,payload:e})}},d=function(e){var t=c.EVENTS_LINKED_BY_ACTION_TYPES(e,o)[e.type];t&&i(t)};return t.createElement(t.Fragment,null)}export{a as default};
